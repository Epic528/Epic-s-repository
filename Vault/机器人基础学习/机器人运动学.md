
---
### 一、简介

机器人运动学包括 **正向运动学（FK）** 和 **逆向运动学（IK）**，正向运动学即给定机器人各关节变量，计算机器人末端的位置姿态； 逆向运动学即已知机器人末端的位置姿态，计算机器人对应位置的全部关节变量。
![[Pasted image 20251119101131.png]]

>正运动学也被称为运动学建模，而逆运动学也被称为运动学求逆或求逆解。

---

### 二、正运动学（FK）

#### 1、Serial Linkages
##### (1)  组成

由**base 、joints 、links**组成
![[Pasted image 20251120112320.png]]
- 对 $n$ 个 joints，$n+1$ 个 links（因为由底座的存在）

- links from $0$ to $n$，joints from $1$ to $n$

- joint $i$ connects link $i-1$ and link $i$

- joint $i$ moves link $i$ 
  — link $0$ never moves

关节分 **平动关节** 和 **转动关节**
 
![[Pasted image 20251120113300.png]]


##### （2）Forward Kinematic Map

**将 Joint coordinates 映射到 Task coordinates

 **Domain & Range**
- **Domain** 对应 关节空间	
- **Range** 对应 任务空间

**workspace**
- Reachable workspace：手臂可以用一种以上的姿态到达的空间
- Dexterous workspace：手臂可以用任意姿态到达的空间


$$\begin{bmatrix}
x\\
y\\
\phi\\
\end{bmatrix}
=
\begin{bmatrix}
l_1c_1+l_2c_{12}\\
l_1s_1+l_2s_{12}\\
\theta_1+\theta_2\\
\end{bmatrix}

$$
##### （3）Frame Assignment（布置坐标系）

**Example:**
![[Pasted image 20251120120615.png]]

 $$T=\begin{bmatrix}R_n^0&o_n^0\\​0&1\
\end{bmatrix}$$
- 其中 $n$ 代表 $n$ 个坐标系，$0$ 代表基态位姿

##### (4) kinematic chains

![[Pasted image 20251120122607.png]]

- Transformation matrix 
 $$
 T_j^i=\begin{cases}
A_{i+1}A_{i+2}...A_{j-1}A_{j}
& \text{if }i < j \\
I & \text{if }i = j\\
(T_i^j)^{(-1)}& \text{if }i > j\\
\end{cases}
$$
- For $i < j$
$$
T_j^i=A_{i+1}...A_{j}=\begin{bmatrix}R_j^j&o_j^i\\o&1\\
\end{bmatrix}

$$
$$
R_j^i = R_{i+1}^i ... R_j^{j-1}
$$
$$
o_j^i=o_{j-1}^i+R_{j-1}^io_j^{j-1}
$$

#### 2、DH (Denavit-Hartenberg) convention


在刚体运动的最一般描述中，两个坐标系之间的相对位姿需要 **6 个自由度（DOF）**：3 个平移 + 3 个旋转。  

但 Denavit–Hartenberg（DH）参数法只需要 **4 个参数**，因为 **它对相邻连杆坐标系施加了特定的“构型约束”**，从而减少了必须显式给出的自由度。

![[Pasted image 20251120175158.png]]

##### (1）Four Basic Parameters
![[Pasted image 20251120170750.png]]

当用 DH 方法建立起各杆件坐标系后, 系$i − 1$ 和系$i$ 间的相对位置和指向可用以下4 个参数表示:

1. **杆件长度** $a_i$，定义为从 $Z_{i-1}$ 轴到 $Z_i$ 轴的距离，沿 $X_i$ 轴的指向为正。
    
2. **杆件扭角** $\alpha_i$，定义为从 $Z_{i-1}$ 轴到 $Z_i$ 轴的转角，绕 $X_i$ 轴正向转动为正，且规定 $\alpha_i \in (-\pi, \pi]$。
    
3. **关节距离** $d_i$，定义为从 $X_{i-1}$ 轴到 $X_i$ 轴的距离，沿 $Z_{i-1}$ 轴的指向为正。
    
4. **关节转角** $\theta_i$，定义为从 $X_{i-1}$ 轴到 $X_i$ 轴的转角，沿 $Z_{i-1}$ 轴的指向为正，且规定 $\theta_i \in (-\pi, \pi]$。

- **对一个关节来说，三个变量是固定的**
- 一个关节要么平动，要么转动
	- 平动 $d_i$ 为参数
	- 转动 $\theta_i$ 为参数 

![[Pasted image 20251120173951.png]]



##### (2)   Steps

对于n自由度机器人，可用以下步骤建立与各杆件$i(i=0,1,…,n)$固连的坐标系$O_iX_iY_iZ_i$，并简称其为系$i$。
**注意**：每一步都从$i=0$到$i=n$进行完后再执行下一步骤。

1. **确定各坐标系的Z轴**

	**基本原则**：选取$Z_i$轴沿关节$i+1$的轴向（指向可任选，但通常都将各平行的Z轴均取为相同的指向）。

	**特殊情况说明**：
	- 当关节$i+1$是移动关节（即$\sigma_{i+1}=1$）时，其轴线指向已知但位置不确定，这时选取$Z_i$轴与$Z_{i+1}$轴相交
	- 若还有$\sigma_{i+2}=1$，则取$Z_i$轴和$Z_{i+1}$轴都与$Z_{i+2}$轴相交
	- 机器人杆$n$的远端没有关节$n+1$，这时可选取$Z_n$轴与$Z_{n-1}$轴重合

2. **确定各坐标系的原点O**

	**基本原则**：选取原点$O_i$在过$Z_{i-1}$轴和$Z_i$轴的公法线上（即$O_i$为此公法线与$Z_i$轴的交点）。

	**特殊情况说明**：
	- 当$Z_{i-1}$轴与$Z_i$轴平行时：
		- 若$Z_{i-1}$轴与$Z_i$轴重合，取$O_i=O_{i-1}$
		- 若$Z_{i-1}$轴与$Z_i$轴平行且不重合，过$O_{i-1}$点作$Z_{i-1}$轴和$Z_i$轴的公法线，取此公法线与$Z_i$轴的交点为$O_i$
		
	- 对于$O_0$的确定（无$Z_{-1}$轴）
		- 若$Z_0$与$Z_1$相交时，取$O_0=O_1$
		- 若$Z_0$与$Z_1$不相交时，取$O_0$在$Z_0$轴和$Z_1$轴的公法线上

3.  **确定各坐标系的X轴**

	**基本原则**：选取$X_i$轴沿过$Z_{i-1}$轴和$Z_i$轴的公法线，方向从$Z_{i-1}$指向$Z_i$。

	**特殊情况说明**：
	- 当$Z_{i-1}$轴与$Z_i$轴重合时（这时$O_i=O_{i-1}$），选取$X_i$轴满足在初始位置时$X_i$轴与$X_{i-1}$轴重合
	- 当$Z_{i-1}$轴与$Z_i$轴相交且不重合时，选择$X_i = \pm (Z_{i-1} \times Z_i)$，通常使所有平行的X轴均有相同的指向
	- 当$i=0$时：
		- 若$O_0=O_1$，或在$Z_0$轴和$Z_1$轴的公法线上，选取在初始位置时$X_0$轴与$X_1$轴重合

4. **确定各坐标系的Y轴**

	**基本原则**：使$Y_i = Z_i \times X_i$，即构成右手坐标系。

5. **获得参数、计算$H^{i-1}_i$、计算 $H^0_1H^1_2...H^{i-1}_i$


？？我的想法是，两个机械臂12个自由度，关节限制了4个，均下来4个自由度是够的。


---


### 三、逆运动学（IK）

从 任务空间/工作空间 映射到 关节角/轴空间的过程

![[Pasted image 20251120203818.png]]
非线性

简单来说就是给出坐标，求解各关节轴角——有没有解，有多少解

这又受到一些外在条件限制如工作空间，轴角极限，机械臂碰撞等
这些以约束的形式限制解


解决问题的几种方法

几何法Geometric Approach

elbow up  elbow dowm  上下肘位


---
未完

[[如何理解雅各比矩阵]]

[[如何用线性变换理解导数、积分]]


上一篇：[[轨迹规划]]
下一篇：